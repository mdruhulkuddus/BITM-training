<?php
require_once 'vendor/autoload.php';
use App\classes\Home;
use App\classes\Student;
//use App\classes\Database;

    if (isset($_GET['page']))
    {
        if ($_GET['page'] == 'home') {
            include 'pages/home.php';
        }
        elseif ($_GET['page'] == 'studentList') {
            $student = new Student($_POST);
            $studentInfo = $student->getAllStudentInfo();
            include 'pages/student_list.php';
        }
        elseif ($_GET['page'] == 'delet') {
            $student = new Student($_POST);
            $stdId = $_GET['id'];
            $deleteMessage = $student->deleteStudentInfo($stdId);
            $studentInfo = $student->getAllStudentInfo();
            include 'pages/student_list.php';
        }
        elseif ($_GET['page'] == 'edit') {
            $student = new Student($_POST);
            $editId = $_GET['id'];
            $studentInfoById = $student->getStudentInfoById($editId);
            include 'pages/edit.php';
        }
    }
    elseif ($_POST)
    {
        if (isset($_POST['submit'])){
            $student = new Student($_POST);
            $message = $student->newStudent();
            include 'pages/home.php';
        }
        elseif (isset($_POST['editSubmit'])){
            $editId = $_POST['editId'];
            $student = new Student($_POST);
            $UpdateMessage = $student->editStudentInfoById($editId);
            include 'pages/home.php';
        }
    }
    else{
        $home = new Home();
        $home->index();
    }





//
//echo '<pre>';
//print_r($database);










































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































